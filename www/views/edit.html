<ion-view>
  <ion-header-bar class="bar-stable">
    <h1 class="title">Edit</h1>
    <button class="button" ui-sref="update">Back</button>
  </ion-header-bar>
  <ion-content>
    <form name="assign_form" novalidate>
      <div class="form-fields-outer list list-inset">
        <div class="form_group">
          <label class="item item-select">
            <div class="input-label">
              <spam class="placeholder-values">Branch name</spam>
            </div>
            <select ng-options="item as item.name for item in branchItems track by item.name" ng-model="cars.branchName" ng-change="reloadNumbers()" required></select>
          </label>
        </div>

        <div class="form_group">
          <label class="item item-select">
            <div class="input-label">
              <spam class="placeholder-values">Branch number</spam>
            </div>
            <select ng-options="item as item.number for item in branchNumbers track by item.number" ng-model="cars.branchNumber" required></select>
          </label>
        </div>

        <div class="form_group">
          <label class="item item-select">
            <div class="input-label">
              <spam class="placeholder-values">Car brand</spam>
            </div>
            <select ng-options="item as item.brand for item in carBrands track by item.brand" ng-model="cars.carBrand" ng-change="reloadModels()" required></select>
          </label>
        </div>

        <div class="form_group">
          <label class="item item-select">
            <div class="input-label">
              <spam class="placeholder-values">Car model</spam>
            </div>
            <select ng-options="item as item.model for item in carModels track by item.model" ng-model="cars.carModel" ng-change="reloadColors()" required></select>
          </label>
        </div>

        <div class="form_group">
          <label class="item item-select">
            <div class="input-label">
              <spam class="placeholder-values">Car color</spam>
            </div>
            <select ng-options="item as item.color for item in carColors track by item.color" ng-model="cars.carColor" required></select>
          </label>
        </div>

        <div class="form_group">
          <label class="item item-input" ng-class="{ 'has_error' : assign_form.quantity.$invalid && ! assign_form.quantity.$pristine }">
            <input type="text" placeholder="Quantity" name="quantity" ng-model="cars.quantity" ng-pattern="/^\d+$/" required>
          </label>
          <p ng-show="assign_form.quantity.$invalid && !assign_form.quantity.$pristine && !assign_form.quantity.$error.pattern" class="help-block">The price is required.</p>
          <p ng-show="assign_form.quantity.$error.pattern" class="help-block">Please, write a number value</p>
        </div>

        <button class="button button-full button-positive" ng-click="doAssign(cars)" ng-disabled="assign_form.$invalid">
          Assign
        </button>

      </div>
    </form>
  </ion-content>
</ion-view>
